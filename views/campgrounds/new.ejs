<% layout('layouts/boilerplate')%>
    <div class="cg-form-container">
        <h1 class="cg-form-title">New Campground</h1>
        <form action="/campgrounds" method="POST" enctype="multipart/form-data">
            <div class="cg-form-group">
                <label class="cg-form-label" for="title">Title</label>
                <input class="cg-form-input" type="text" id="title" name="campground[title]" required>
            </div>
            <div class="cg-form-group">
                <label class="cg-form-label" for="location">Location</label>
                <input class="cg-form-input" type="text" id="location" name="campground[location]" required>
            </div>
            <div class="cg-form-group">
                <label class="cg-form-label" for="price">Campground Price</label>
                <div class="cg-input-group">
                    <span class="cg-input-group-text">â‚¹</span>
                    <input type="text" class="cg-form-input" id="price" placeholder="0" name="campground[price]"
                        required>
                </div>
            </div>
            <div class="cg-form-group">
                <label class="cg-form-label" for="description">Description</label>
                <textarea class="cg-form-input" id="description" name="campground[description]" required></textarea>
            </div>
            <div class="cg-form-group">
                <label for="image" class="cg-form-label">Upload Images</label>
                <div class="cg-file-input-wrapper">
                    <button class="cg-btn-file" type="button">Choose Files</button>
                    <input class="cg-form-input" type="file" name="image" id="image" multiple>
                    <span class="cg-file-input-name" id="file-name-display">No file chosen</span>
                </div>
            </div>
            <div class="cg-form-group">
                <button class="cg-btn-submit">Add Campground</button>
            </div>
        </form>
    </div>

    <script>
        document.getElementById('image').addEventListener('change', function (e) {
            var fileName = '';
            if (this.files && this.files.length > 1) {
                fileName = (this.getAttribute('data-multiple-caption') || '').replace('{count}', this.files.length);
            } else {
                fileName = e.target.value.split('\\').pop();
            }
            if (fileName) {
                document.getElementById('file-name-display').textContent = fileName;
            } else {
                document.getElementById('file-name-display').textContent = 'No file chosen';
            }
        });

        // Trigger file input when custom button is clicked
        document.querySelector('.cg-btn-file').addEventListener('click', function () {
            document.getElementById('image').click();
        });
    </script>